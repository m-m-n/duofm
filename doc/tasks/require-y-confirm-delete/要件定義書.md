# 要件定義書: 削除確認ダイアログのEnterキー無効化

## 概要

削除確認ダイアログにおいて、Enterキーで削除が実行できてしまう問題を修正する。誤操作を防止するため、`y`キーのみで削除を確認できるように変更する。

## 背景・課題

現在の削除確認ダイアログ（`ConfirmDialog`）では、`y`キーに加えて`Enter`キーでも削除が実行される。これはファイル操作において誤って削除を実行してしまうリスクがあり、以下の問題が発生する可能性がある：

1. ディレクトリ移動時にEnterキーを連打していて、意図せず削除ダイアログを確認してしまう
2. 他のダイアログ（入力ダイアログなど）と同じ感覚でEnterを押してしまう
3. 破壊的操作（削除）に対する安全策が不十分

## 要件

### 機能要件

| ID | 要件 | 優先度 |
|----|------|--------|
| FR1 | 削除確認ダイアログで`y`キーを押した場合のみ削除を実行する | 必須 |
| FR2 | `Enter`キーを押しても削除は実行されない（無視される） | 必須 |
| FR3 | `n`, `Esc`, `Ctrl+C`キーでキャンセルする動作は維持する | 必須 |
| FR4 | ダイアログの表示テキストから`Enter`に関する記述を削除する | 必須 |

### 非機能要件

| ID | 要件 | 優先度 |
|----|------|--------|
| NFR1 | 既存のキーバインド体系との整合性を維持する | 必須 |
| NFR2 | コンテキストメニューからの削除操作にも同様の動作を適用する | 必須 |

## 影響範囲

### 修正対象ファイル

- `internal/ui/confirm_dialog.go` - キー入力処理の修正

### 影響を受けるファイル（確認対象）

- `internal/ui/confirm_dialog_test.go` - テストケースの更新
- `doc/tasks/ui-design/SPEC.md` - 仕様書の更新（必要に応じて）

## 受け入れ条件

1. 削除確認ダイアログが表示された状態で`Enter`キーを押しても削除が実行されない
2. 削除確認ダイアログが表示された状態で`y`キーを押すと削除が実行される
3. 削除確認ダイアログが表示された状態で`n`, `Esc`, `Ctrl+C`キーを押すとキャンセルされる
4. ダイアログ表示のボタンヒントに`Enter`の記載がない
5. 既存のユニットテストが更新され、新しい動作を検証する

## テストシナリオ

### 正常系

- [ ] シナリオ1: 削除ダイアログ表示中に`y`キーを押すと削除が実行される
- [ ] シナリオ2: 削除ダイアログ表示中に`n`キーを押すとキャンセルされる
- [ ] シナリオ3: 削除ダイアログ表示中に`Esc`キーを押すとキャンセルされる
- [ ] シナリオ4: 削除ダイアログ表示中に`Ctrl+C`キーを押すとキャンセルされる

### 異常系・エッジケース

- [ ] シナリオ5: 削除ダイアログ表示中に`Enter`キーを押しても何も起こらない
- [ ] シナリオ6: 削除ダイアログ表示中に他のキー（例: `a`, `z`）を押しても何も起こらない
- [ ] シナリオ7: コンテキストメニューから削除を選択した場合も同様の動作をする

## 備考

- この変更は破壊的操作（削除）の安全性向上を目的とした改善である
- 他の確認ダイアログ（上書き確認など）は別の検討が必要（本タスクのスコープ外）
